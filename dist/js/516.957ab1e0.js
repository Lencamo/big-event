"use strict";(self["webpackChunkbig_event"]=self["webpackChunkbig_event"]||[]).push([[516],{1516:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"changePic-container"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("更换头像")])]),e("div",[t.user_pic?e("img",{staticClass:"the_img",attrs:{src:t.user_pic,alt:""}}):e("img",{staticClass:"the_img",attrs:{src:s(9389),alt:""}}),e("div",{staticClass:"btn-box"},[e("input",{ref:"iptRef",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}}),e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.chooseImg}},[t._v("选择图片")]),e("el-button",{attrs:{type:"success",icon:"el-icon-upload",disabled:""===t.user_pic},on:{click:t.updateImg}},[t._v("上传头像")])],1)])])],1)},a=[],c=s(7877),n={name:"changePic",data(){return{user_pic:""}},methods:{chooseImg(){this.$refs.iptRef.click()},onFileChange(t){const e=t.target.files;if(0===e.length)this.user_pic="";else{const t=new FileReader;t.readAsDataURL(e[0]),t.onload=t=>{this.user_pic=t.target.result}}},async updateImg(){const{data:t}=await(0,c.E5)(this.user_pic);0===t.code?(this.$message.success("上传头像成功！"),this.$store.dispatch("initUserInfo"),this.user_pic=""):(this.$message.error("上传头像失败！"),this.user_pic="")}}},r=n,l=s(1001),o=(0,l.Z)(r,i,a,!1,null,"a1318140",null),u=o.exports},9389:function(t,e,s){t.exports=s.p+"img/avatar.b216c21d.jpg"}}]);
//# sourceMappingURL=516.957ab1e0.js.map